{"version":3,"sources":["Home/components/NewsList.jsx","Home/components/SiteList.jsx","Appshell/components/HomeContainer.jsx","Appshell/stores/UserStore.js","Appshell/components/LoginModal.jsx","Appshell/components/UserDropdown.jsx","Appshell/components/SideDrawer.jsx","Appshell/components/Header.jsx","News/components/Image.jsx","News/components/NewsDetail.jsx","News/components/NewsItem.jsx","News/components/NewsList.jsx","User/components/FollowedItem.jsx","User/components/ProfileContainer.jsx","About/components/MemberItem.jsx","About/components/AboutContainer.jsx","App.js","serviceWorker.js","index.js"],"names":["TabPane","Tabs","Meta","Card","NewsList","state","news","loading","onTabChange","key","_this","setState","axios","get","concat","then","res","data","slice","catch","err","console","log","renderCard","react_default","a","createElement","skeleton","length","empty","className","map","index","Link","to","pathname","newsId","card","style","margin","width","hoverable","bordered","cover","img","src","alt","description","title","icon","type","time","_this2","this","tabs","defaultActiveKey","onChange","tab","Component","SiteList","mockData","media_list","source","url","es_button","shape","href","Option","Select","Search","Input","HomeContainer","input","select","selectBefore","es_select","defaultValue","onSelectChange","value","val","onInputChange","e","target","onInputSubmit","window","location","message","error","addonBefore","placeholder","onSearch","components_NewsList","divider","components_SiteList","UserStore","user","isAnonymous","channels","readNews","firebase","auth","onAuthStateChanged","uid","channel","recentread","email","password","code","post","signIn","_this3","signInWithEmailAndPassword","_this4","signOut","decorate","observable","fetchUserState","action","signUp","stores_UserStore","RadioButton","Radio","Button","RadioGroup","Group","LoginModal","radioValue","passwordConfirm","onRadioChange","onEmailInputChange","onPasswordInputChange","onConfirmPasswordInputChange","renderSignIn","suffix","color","Password","renderSignUp","es_alert","showIcon","isSubmitDisabled","disabled","modal","visible","props","onOk","submit","onCancel","handleModalClose","okButtonProps","okText","buttonStyle","dashed","UserDropdown","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","modalVisible","handleModalOpen","handleModalSubmit","arguments","undefined","success","menu","Item","Divider","onClick","dropdown","overlay","trigger","placement","avatar","components_LoginModal","showModal","UserDropDown","observer","SubMenu","Menu","categories","name","SideDrawer","showDrawer","onClose","handleClick","renderMenu","defaultSelectedKeys","defaultOpenKeys","mode","item","display","size","border","drawer","Header","current","components_SideDrawer","components_UserDropdown","Image","handleError","imgErr","borderRadius","fontSize","backgroundColor","address","onError","NewsDetail","handleFollow","put","currentNews","following","isFollow","search","params","URLSearchParams","renderBody","body","replace","RegExp","split","readFromCache","id","match","db","that","request","indexedDB","open","onupgradeneeded","event","result","objectStoreNames","contains","createObjectStore","keyPath","onsuccess","req","transaction","objectStore","parseInt","keys","breadcrumb","theme","components_Image","tag","category","summary","NewsItem","tags","hashtags","parseSearch","hideFollow","getType","handleMore","currCount","count","currNews","displayNews","components_NewsItem","toUpperCase","FollowedItem","handleUnfollow","ProfileContainer","ProfileContainer_Meta","moment","fromNow","openCursor","cursor","push","continue","spin","photoURL","displayName","chan","components_FollowedItem","MemberItem","marginRight","position","github","linkedin","AboutContainer","team","member","components_MemberItem","App","components_Header","BrowserRouter","Switch","Route","exact","path","component","Redirect","from","back_top","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","setPersistence","Auth","Persistence","SESSION","link","document","rel","head","appendChild","ReactDOM","render","src_App_0","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4acaebf3.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport '../styles/NewsList.scss';\r\nimport { Card, Tabs, Skeleton, Icon, Empty } from 'antd';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst TabPane = Tabs.TabPane;\r\nconst { Meta } = Card;\r\n\r\n\r\nclass NewsList extends Component {\r\n    state = {\r\n        news: [],\r\n        loading: true,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({loading: true, news:[]});\r\n        axios.get(`http://18.191.243.106:3000/api/offline/category/business`).then(\r\n            res => {\r\n                this.setState({news: res.data.slice(0,3), loading: false})\r\n            }\r\n        ).catch(err => {\r\n            console.log(err);\r\n            this.setState({news: [], loading: false});\r\n        });\r\n    }\r\n\r\n    onTabChange = (key) => {\r\n        this.setState({loading: true, news:[]});\r\n        axios.get(`http://18.191.243.106:3000/api/offline/category/${key}`).then(\r\n            res => {\r\n                this.setState({news: res.data.slice(0,3), loading: false})\r\n            }\r\n        ).catch(err => {\r\n            console.log(err);\r\n            this.setState({news: [], loading: false});\r\n        });\r\n    };\r\n\r\n    renderCard = () => {\r\n        if (this.state.loading ) {\r\n            return <Skeleton/>\r\n        }\r\n        if (this.state.news.length === 0) {\r\n            return <Empty/>\r\n        }\r\n\r\n       return <div className=\"news-card-list\">\r\n           {this.state.news.map((news,index) =>\r\n                <Link key={index} to={{pathname: `/news/${news.newsId}`, state: {news: news}}}>\r\n                    <Card\r\n                        className=\"news-card\"\r\n                        style={{margin: 5, width: 290}}\r\n                        key={index}\r\n                        hoverable\r\n                        bordered={false}\r\n                        cover={news.img ? <img src={news.img} alt={\"N/A\"}/> : <Empty description=\" \"/>}\r\n                    >\r\n\r\n                        <Meta\r\n                            title={news.title}\r\n                        />\r\n                        <div>\r\n                            <Icon type=\"clock-circle\" />{news.time}\r\n                        </div>\r\n                    </Card>\r\n                </Link>)}\r\n        </div>;\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Tabs defaultActiveKey=\"1\" onChange={this.onTabChange}>\r\n                        <TabPane tab=\"Business\" key=\"business\">{this.renderCard()}</TabPane>\r\n                        <TabPane tab=\"Technology\" key=\"technology\">{this.renderCard()}</TabPane>\r\n                        <TabPane tab=\"Entertainment\" key=\"entertainment\">{this.renderCard()}</TabPane>\r\n                        <TabPane tab=\"Sports\" key=\"sports\">{this.renderCard()}</TabPane>\r\n                        <TabPane tab=\"Science\" key=\"science\">{this.renderCard()}</TabPane>\r\n                        <TabPane tab=\"Health\" key=\"health\">{this.renderCard()}</TabPane>\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default NewsList;","import React, { Component } from 'react';\r\nimport '../styles/SiteList.scss';\r\nimport {Button, Card, Skeleton} from 'antd';\r\nimport media_list from '../../mock/media_list.json';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass SiteList extends Component {\r\n    state = {\r\n        mockData: media_list,\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"media-card-list\">\r\n                {this.state.mockData.length === 0 ?\r\n                    <Skeleton/>\r\n                    : this.state.mockData.map(source => <Card\r\n                        key={source.title}\r\n                        hoverable\r\n                        bordered={false}\r\n                        style={{ width: 240 }}\r\n                        cover={<Link to={`news/?source=${source.title}`}>\r\n                            <img alt=\"example\" src={source.url} style={{width: \"100%\"}}/>\r\n                        </Link>}\r\n                    >\r\n                        <div>\r\n                            <h3>\r\n                                {source.title}\r\n                                <Button icon=\"link\" shape=\"circle\" className=\"site-list-menu\" href={source.source}/>\r\n                            </h3>\r\n                        </div>\r\n                        <div>\r\n                            {source.description}\r\n                        </div>\r\n                    </Card>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default SiteList;","import React, { Component } from 'react';\r\nimport '../styles/Home.scss';\r\nimport \"../styles/HomeContainer.scss\"\r\nimport { Input, Select, Divider, message } from 'antd';\r\nimport NewsList from '../../Home/components/NewsList.jsx'\r\nimport SiteList from '../../Home/components/SiteList.jsx'\r\nimport '../styles/Home.scss';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst Option = Select.Option;\r\nconst Search = Input.Search;\r\n\r\nclass HomeContainer extends Component {\r\n\r\n    state = {\r\n        input: \"\",\r\n        select: \"news\",\r\n    };\r\n\r\n    selectBefore = () =>\r\n        <Select defaultValue={this.state.select} style={{width: 90}} onChange={this.onSelectChange}>\r\n            <Option value=\"news\">News</Option>\r\n            <Option value=\"source\">Source</Option>\r\n        </Select>;\r\n\r\n    onSelectChange = (val) => {\r\n        this.setState({select: val});\r\n    };\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({input: e.target.value});\r\n    };\r\n\r\n    onInputSubmit = () => {\r\n        if (!this.state.input) {\r\n            message.error(\"Input cannot be empty!\");\r\n            return\r\n        }\r\n        window.location.href =`/news/?${this.state.select}=${this.state.input}`;\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"Home\">\r\n                <article className=\"home-container\">\r\n                    <section>\r\n                        <div className=\"home-container-title\">\r\n                            <h1 className=\"main-title\">\r\n                                GOATNews - Progressive Web Application\r\n                            </h1>\r\n                            <h1 className=\"sub-title\">\r\n                                Read news anywhere\r\n                            </h1>\r\n                        </div>\r\n                        <div className=\"search-bar\">\r\n                            <Search addonBefore={this.selectBefore()}\r\n                                    placeholder=\"input search text\"\r\n                                    onChange={this.onInputChange}\r\n                                    onSearch={this.onInputSubmit}\r\n                            />\r\n                        </div>\r\n                    </section>\r\n                    <section className=\"home-sections\">\r\n                        <Link to=\"/news/\"><h1> Trend News</h1></Link>\r\n                        <NewsList/>\r\n                    </section>\r\n                    <Divider/>\r\n                    <section className=\"home-sections\">\r\n                        <h1> Hot Sources</h1>\r\n                        <SiteList/>\r\n                    </section>\r\n                    <Divider/>\r\n                </article>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default HomeContainer;","import {observable, action, decorate} from 'mobx';\r\nimport firebase from 'firebase';\r\nimport axios from \"axios\";\r\n\r\nclass UserStore {\r\n    user = {isAnonymous: true, channels:{}, readNews:{}};\r\n    state = {loading: true};\r\n\r\n    fetchUserState() {\r\n        this.state.loading = true;\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                this.user = user;\r\n                this.user.channels = {};\r\n                this.user.readNews = {};\r\n                axios.get(`http://18.191.243.106:3000/api/user/${this.user.uid}`).then(\r\n                    res => {\r\n                        this.user.channels = res.data.channel;\r\n                        this.user.readNews = res.data.recentread;\r\n                        this.state.loading = false;\r\n                    }\r\n                )\r\n            } else {\r\n                console.log(\"Not login\");\r\n                // No user is signed in.\r\n                this.state.loading = false;\r\n            }\r\n\r\n        });\r\n        this.state.loading = false;\r\n    }\r\n\r\n\r\n    signUp(email, password) {\r\n        this.error = {\r\n            code: 0,\r\n            message: \"\",\r\n        };\r\n\r\n        return axios.post(\"http://18.191.243.106:3000/api/user/register\", {email:email, password: password}).then(res => {\r\n            this.user = res.data;\r\n        }).then(res => {\r\n            return this.signIn(email, password);\r\n        }).catch(err => console.log(err));\r\n\r\n        /*\r\n        return firebase.auth().createUserWithEmailAndPassword(email, password).then(res => {\r\n            this.user = res.data;\r\n            this.user.isAnonymous = false;\r\n        });\r\n        */\r\n\r\n    }\r\n\r\n\r\n    signIn(email, password) {\r\n        this.error = {\r\n            code: 0,\r\n            message: \"\",\r\n        };\r\n        return firebase.auth().signInWithEmailAndPassword(email, password).then(res => {\r\n            this.user = res.user;\r\n            this.user.channels = {};\r\n            this.user.readNews = {};\r\n        }).then(res => {\r\n            axios.get(`http://18.191.243.106:3000/api/user/${this.user.uid}`).then(\r\n                res => {\r\n                    this.user.channels = res.data.channel;\r\n                    this.user.readNews = res.data.recentread;\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    signOut() {\r\n        this.error = {\r\n            code: 0,\r\n            message: \"\",\r\n        };\r\n        return firebase.auth().signOut().then(res => {\r\n            this.user = {isAnonymous: true};\r\n        }).catch(error => {\r\n            this.state = error;\r\n        });\r\n    }\r\n}\r\ndecorate(UserStore, {\r\n    user: observable,\r\n    state: observable,\r\n    fetchUserState: action,\r\n    signUp: action,\r\n    signIn: action,\r\n    signOut: action,\r\n});\r\n\r\nexport default new UserStore()","import React, { Component } from 'react';\r\nimport { Modal, Input, Icon, Radio, Alert, Divider } from 'antd';\r\nimport \"../styles/LoginModal.scss\";\r\n\r\nconst RadioButton = Radio.Button;\r\nconst RadioGroup = Radio.Group;\r\n\r\nclass LoginModal extends Component {\r\n    state = {\r\n        radioValue: \"in\",\r\n        email: \"\",\r\n        password: \"\",\r\n        passwordConfirm: \"\",\r\n    };\r\n\r\n    onRadioChange = (e) => {\r\n        this.setState({\r\n            radioValue: e.target.value,\r\n        })\r\n    };\r\n\r\n    onEmailInputChange = (e) => {\r\n        this.setState({email: e.target.value});\r\n    };\r\n    onPasswordInputChange = (e) => {\r\n        this.setState({password: e.target.value});\r\n    };\r\n    onConfirmPasswordInputChange = (e) => {\r\n        this.setState({passwordConfirm: e.target.value});\r\n    };\r\n\r\n    renderSignIn = () => {\r\n        return(\r\n            <div className=\"user-input\">\r\n                <p>Email Address</p>\r\n                <Input\r\n                    placeholder=\"Email Address\"\r\n                    suffix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }}/>}\r\n                    onChange={this.onEmailInputChange}\r\n                    value={this.state.email}\r\n                />\r\n                <p>Password</p>\r\n                <Input.Password\r\n                    placeholder=\"Password\"\r\n                    onChange={this.onPasswordInputChange}\r\n                    value={this.state.password}\r\n                />\r\n            </div>\r\n        )\r\n    };\r\n\r\n    renderSignUp = () => {\r\n        return(\r\n            <div className=\"user-input\">\r\n              <p>Email Address</p>\r\n              <Input\r\n                  placeholder=\"Email Address\"\r\n                  suffix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }}/>}\r\n                  onChange={this.onEmailInputChange}\r\n                  value={this.state.email}\r\n              />\r\n              <p>Password</p>\r\n              <Input.Password\r\n                  placeholder=\"Password\"\r\n                  onChange={this.onPasswordInputChange}\r\n                  value={this.state.password}\r\n              />\r\n              <p>Confirm Password</p>\r\n              <Input.Password\r\n                  placeholder=\"Confirm Password\"\r\n                  onChange={this.onConfirmPasswordInputChange}\r\n                  value={this.state.passwordConfirm}\r\n              />\r\n              {this.state.password !== this.state.passwordConfirm &&\r\n                  <Alert\r\n                      description=\"Two passwords must be same.\"\r\n                      type=\"error\"\r\n                      showIcon\r\n                  />\r\n              }\r\n            </div>\r\n        )\r\n    };\r\n\r\n    isSubmitDisabled = (radioValue) => {\r\n        let disabled = !(this.state.email && this.state.password);\r\n        if (radioValue !== 'in') {\r\n            disabled = disabled || this.state.password !== this.state.passwordConfirm;\r\n        }\r\n\r\n        return disabled;\r\n    };\r\n\r\n    render() {\r\n        const {radioValue} = this.state;\r\n        return(\r\n            <div>\r\n                <Modal\r\n                    title=\"Sign in/up\"\r\n                    visible={this.props.visible}\r\n                    onOk={this.props.submit(this.state.email, this.state.password, radioValue === 'in')}\r\n                    onCancel={this.props.handleModalClose}\r\n                    okButtonProps={{disabled: this.isSubmitDisabled(radioValue)}}\r\n                    okText={radioValue === 'in' ? \"Sign In\" : \"Sign Up\"}\r\n                >\r\n                    <div>\r\n                        <RadioGroup onChange={this.onRadioChange} defaultValue={radioValue} buttonStyle=\"solid\">\r\n                            <RadioButton value=\"in\">Sign In</RadioButton>\r\n                            <RadioButton value=\"up\">Sign Up</RadioButton>\r\n                        </RadioGroup>\r\n                      <Divider dashed/>\r\n                        {radioValue === 'in' ? this.renderSignIn() : this.renderSignUp()}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\r\nimport { Avatar, Menu, Dropdown, message, Icon } from 'antd';\r\nimport \"../styles/Header.scss\";\r\nimport {decorate} from \"mobx\";\r\nimport {observer} from \"mobx-react\";\r\nimport UserStore from \"../stores/UserStore\";\r\nimport LoginModal from \"./LoginModal\";\r\n\r\nclass UserDropdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modalVisible: false,\r\n        };\r\n    }\r\n\r\n    handleModalClose = () => this.setState({ modalVisible: false });\r\n    handleModalOpen = () => this.setState({ modalVisible: true });\r\n    handleModalSubmit = (email, password, signIn=true) => {\r\n        return () => {\r\n            if (signIn) {\r\n                UserStore.signIn(email, password).then(res => {\r\n                    message.success(\"Sign in successfully\");\r\n                    this.setState({ modalVisible: false });\r\n                }).catch(err => {\r\n                    message.error(err.message);\r\n                    this.setState({ modalVisible: true });\r\n                });\r\n            } else {\r\n                UserStore.signUp(email, password).then(res => {\r\n                    message.success(\"Sign up successfully\");\r\n                    this.setState({ modalVisible: false });\r\n                }).catch(err => {\r\n                    message.error(err.message);\r\n                    this.setState({ modalVisible: true });\r\n                });\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    signOut = () => {\r\n        return UserStore.signOut().then(res => {\r\n            message.success(\"Sign out successfully\");\r\n        })\r\n    };\r\n\r\n    componentDidMount() {\r\n        UserStore.fetchUserState();\r\n    }\r\n\r\n    menu = () => {\r\n        return !UserStore.user.email ?\r\n            <Menu>\r\n                <Menu.Item>\r\n                    <div onClick={this.handleModalOpen}><Icon type=\"import\" /> Sign in/up</div>\r\n                </Menu.Item>\r\n            </Menu>\r\n            :\r\n            <Menu>\r\n                <Menu.Item>\r\n                    <a href=\"/profile/\"><Icon type=\"user\" /> Profile</a>\r\n                </Menu.Item>\r\n                <Menu.Divider/>\r\n                <Menu.Item>\r\n                    <div onClick={this.signOut}><Icon type=\"export\" /> Sign out</div>\r\n                </Menu.Item>\r\n            </Menu>\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dropdown overlay={this.menu} trigger={['click']} placement=\"bottomCenter\">\r\n                    <Avatar icon=\"user\" className=\"header-container-avatar\"/>\r\n                </Dropdown>\r\n                <LoginModal\r\n                    visible={this.state.modalVisible}\r\n                    showModal={this.handleModalOpen}\r\n                    submit={this.handleModalSubmit}\r\n                    handleModalClose={this.handleModalClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\ndecorate(UserDropdown, {\r\n    UserDropDown: observer,\r\n});\r\nexport default UserDropdown;","import React, { Component } from 'react';\r\nimport {Drawer, Button, Menu, Icon} from 'antd';\r\nimport \"../styles/SideDrawer.scss\";\r\n\r\nconst SubMenu = Menu.SubMenu;\r\nconst categories = [{key:\"business\", name:\"Business\", type:\"dollar\"},\r\n    {key:\"technology\", name:\"Technology\", type:\"laptop\"},\r\n    {key:\"entertainment\", name:\"Entertainment\", type:\"coffee\"},\r\n    {key:\"sports\", name:\"Sports\", type:\"trophy\"},\r\n    {key:\"science\", name:\"Science\", type:\"experiment\"},\r\n    {key:\"health\", name:\"Health\", type:\"heart\"},];\r\n\r\nclass SideDrawer extends Component {\r\n    state = { visible: false, placement: 'left' };\r\n    showDrawer = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    onClose = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    handleClick = (e) => {\r\n    };\r\n\r\n    renderMenu = () => <Menu\r\n        onClick={this.handleClick}\r\n        style={{ width: 256 }}\r\n        defaultSelectedKeys={['1']}\r\n        defaultOpenKeys={['sub1', 'sub2', 'sub3']}\r\n        mode=\"inline\"\r\n    >\r\n        <SubMenu key=\"sub1\" title={<span><Icon type=\"user\" /><span>My Subscriptions</span></span>}>\r\n            <Menu.Item key=\"1\"><Icon type=\"eye\" />My News</Menu.Item>\r\n            <Menu.Item key=\"2\"><Icon type=\"pushpin\" />My Sites</Menu.Item>\r\n        </SubMenu>\r\n        <SubMenu key=\"sub2\" title={<span><Icon type=\"solution\" /><span>Categories</span></span>}>\r\n            {categories.map(item =>\r\n                <Menu.Item key={item.key}>\r\n                    <Icon type={item.type} />\r\n                    <a style={{display: \"initial\"}} href={`/news/?category=${item.key}`}>{item.name}</a>\r\n                </Menu.Item>)}\r\n        </SubMenu>\r\n    </Menu>;\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Button shape=\"circle\" icon=\"bars\" size=\"large\" onClick={this.showDrawer} style={{border: \"none\"}}/>\r\n                <Drawer\r\n                    placement=\"left\"\r\n                    title=\"GOATNews\"\r\n                    onClose={this.onClose}\r\n                    visible={this.state.visible}\r\n                >\r\n                    {this.renderMenu()}\r\n                </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SideDrawer;","import React, { Component } from 'react';\r\nimport \"../styles/Header.scss\";\r\nimport UserDropDown from \"./UserDropdown.jsx\";\r\nimport SideDrawer from \"./SideDrawer.jsx\";\r\n\r\nclass Header extends Component {\r\n\r\n    state = {\r\n        current: 'mail',\r\n    };\r\n\r\n    handleClick = (e) => {\r\n        console.log('click ', e);\r\n        this.setState({\r\n            current: e.key,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"header-container\">\r\n                <div className=\"header-container-title\">\r\n                    <SideDrawer/>\r\n                    <a href=\"/\">\r\n                        GOATNews\r\n                    </a>\r\n                </div>\r\n                <div className=\"header-container-extra\">\r\n                    <span className=\"header-container-btn\"><a href=\"/news/\"><div>News</div></a></span>\r\n                    <span className=\"header-container-btn\"><a href=\"/about/\"><div>About</div></a></span>\r\n                    <span className=\"header-container-btn\">\r\n                        <div>\r\n                            <UserDropDown/>\r\n                        </div>\r\n                    </span>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport {Avatar} from 'antd';\r\nimport '../styles/NewsItem.scss'\r\n\r\n\r\nclass Image extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      imgErr: false\r\n    }\r\n  }\r\n\r\n  handleError = () => {\r\n    this.setState({\r\n      imgErr: true\r\n    })\r\n  };\r\n\r\n  render() {\r\n    let item;\r\n    if (this.state.imgErr) {\r\n      if (this.props.type === \"list\") {\r\n        item =\r\n          <Avatar\r\n            shape=\"square\"\r\n            size={100}\r\n            style={{ borderRadius: '10px', fontSize: '40px', color: '#13c2c2', backgroundColor: '#e6fffb'}}>\r\n            {this.props.source[0]}\r\n          </Avatar>\r\n      }\r\n      else {\r\n        item = null;\r\n      }\r\n    }\r\n    else {\r\n      item = <img alt=\"logo\" src={this.props.address} onError={this.handleError}/>;\r\n    }\r\n    return (\r\n      item\r\n    )\r\n  }\r\n}\r\n\r\nexport default Image","import React, { Component } from 'react';\r\nimport '../styles/NewsDetail.scss';\r\nimport { Button, Empty, Tag, Breadcrumb, Icon, Divider, Avatar, message} from 'antd';\r\nimport { Link } from 'react-router-dom'\r\nimport {decorate} from \"mobx\";\r\nimport {observer} from \"mobx-react\";\r\nimport UserStore from \"../../Appshell/stores/UserStore\";\r\nimport axios from 'axios';\r\nimport Image from \"./Image\";\r\n\r\n\r\nclass NewsDetail extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      currentNews: {},\r\n      following: false,\r\n      visible: false,\r\n      readFromCache: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // need to get news by id\r\n    let id = this.props.match.params.id;\r\n    const params = {};\r\n    if (!UserStore.user.isAnonymous && UserStore.user.uid) {\r\n      params.uid = UserStore.user.uid;\r\n    }\r\n    const that = this;\r\n\r\n    /* use indexDB here!!*/\r\n    const request = window.indexedDB.open(\"news\", 1);\r\n    var db;\r\n    request.onupgradeneeded = function (event) {\r\n      db = event.target.result;\r\n      if (!db.objectStoreNames.contains('recent')) {\r\n        db.createObjectStore('recent', { keyPath: 'id' });\r\n      }\r\n    };\r\n\r\n    request.onsuccess = function(event) {\r\n      db = event.target.result;\r\n      const req = db.transaction(['recent']).objectStore('recent').get(parseInt(id));\r\n      req.onsuccess = function(event) {\r\n        if (req.result) {\r\n          that.setState({currentNews: req.result});\r\n        } else {\r\n          axios.get(`http://18.191.243.106:3000/api/offline/${id}`, {params: params}).then(\r\n              res => {\r\n                that.setState({\r\n                  currentNews: res.data,\r\n                });\r\n                const news = res.data;\r\n                news.id = news.newsId;\r\n                db.transaction(['recent'], 'readwrite').objectStore('recent').put(news);\r\n              }\r\n          );\r\n        }\r\n      };\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleFollow = () => {\r\n    axios.put(`http://18.191.243.106:3000/api/user/${UserStore.user.uid}`,\r\n        {name: this.state.currentNews.source, type:\"source\"}).then(res => {\r\n      this.setState({following: !this.state.following});\r\n    }).catch(err =>\r\n        message.error(\"Network error\")\r\n    );\r\n  };\r\n\r\n  isFollow = () => {\r\n    if (!UserStore.user.channels) return false;\r\n    let key = 'headline';\r\n    if (this.props.location) {\r\n      const search = this.props.location.search;\r\n      const params = new URLSearchParams(search);\r\n      key = params.get('news') || params.get('category') || params.get('source') || 'headline';\r\n    }\r\n\r\n    return (key in UserStore.user.channels) || this.state.following;\r\n  };\r\n\r\n  renderBody = (body) => {\r\n    body = body.replace(new RegExp(/\\r\\n/g,'g'), '<br />');\r\n    return body.split('\\n').map((item, index) =>\r\n        <span key={index}>\r\n          {item}\r\n          <br/>\r\n        </span>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    const {currentNews} = this.state;\r\n    if (Object.keys(currentNews).length === 0) {\r\n      return <div className=\"detail-container\">\r\n          <Empty/>\r\n      </div>\r\n    }\r\n\r\n    return (\r\n      <div className=\"detail-container\">\r\n        <div className=\"breadcrumb\">\r\n          <Breadcrumb>\r\n            <Breadcrumb.Item><Link to=\"/\"><Icon type=\"home\"/> Home</Link></Breadcrumb.Item>\r\n            <Breadcrumb.Item><Link to=\"/news\"><Icon type=\"rise\" /> News</Link></Breadcrumb.Item>\r\n            <Breadcrumb.Item>{currentNews.title}</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n        </div>\r\n        <div className=\"title\"><h1>{currentNews.title}</h1></div>\r\n        <div className=\"article-info\">\r\n          <Avatar\r\n            size={64}\r\n            style={{fontSize: '30px', color: '#13c2c2', backgroundColor: '#e6fffb'}}>\r\n            {currentNews.source[0]}\r\n          </Avatar>\r\n          <div className=\"article-subtitle\">\r\n            <div className=\"source\">{currentNews.source}</div>\r\n            <div className=\"post-time\">Post Time: {currentNews.time}</div>\r\n          </div>\r\n          <div className=\"article-follow\">\r\n            <Button shape=\"round\" onClick={this.handleFollow} disabled={UserStore.user.isAnonymous}>\r\n              <Icon type=\"star\" theme={this.isFollow() ? \"filled\" : \"\"}/>\r\n              {this.isFollow() ? \"Unfollow\" : \"Follow\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"article-img\">\r\n          <Image type={\"detail\"} address={currentNews.img} source={currentNews.source}/>\r\n        </div>\r\n        <div className=\"tags\">Category: <Tag color=\"cyan\">{currentNews.category}</Tag></div>\r\n        <div className=\"description\">Description: {currentNews.summary}</div>\r\n\r\n        <Divider/>\r\n        <div className=\"content\">{this.renderBody(currentNews.body)}</div>\r\n        <Divider/>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\ndecorate(NewsDetail, {\r\n  NewsDetail: observer,\r\n});\r\n\r\nexport default NewsDetail","import React, { Component } from 'react';\r\nimport {Tag} from 'antd';\r\nimport '../styles/NewsItem.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport Image from './Image'\r\n\r\n\r\n\r\nclass NewsItem extends Component {\r\n\r\n  render() {\r\n      let tags;\r\n      if (this.props.item.hashtags) {\r\n        tags = this.props.item.hashtags.map((item, index) =>\r\n          <Tag color=\"cyan\" key={index}>{item}</Tag>\r\n        )\r\n      }\r\n      return (\r\n          <div className=\"round-container\">\r\n            <div className=\"content\">\r\n              <Link to={{pathname: `/news/${this.props.item.newsId}`}}>\r\n                <div className=\"title\">{this.props.item.title}</div>\r\n              </Link>\r\n              <div className=\"post-time\">Posted at: {this.props.item.time}</div>\r\n              <div className=\"description\">{this.props.item.summary}</div>\r\n              <div className=\"tags\">Hashtags: {tags}</div>\r\n            </div>\r\n            <div className=\"image\">\r\n              <Link to={{pathname: `/news/${this.props.item.newsId}`}}>\r\n                <Image type={\"list\"} address={this.props.item.img} source={this.props.item.source}/>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        )\r\n  }\r\n}\r\n\r\nexport default NewsItem;","import React, { Component } from 'react';\r\nimport '../styles/NewsList.scss';\r\nimport {Button, Divider, Icon, Empty, Skeleton, message} from 'antd';\r\nimport axios from \"axios\";\r\nimport NewsItem from './NewsItem'\r\nimport {decorate} from \"mobx\";\r\nimport {observer} from \"mobx-react\";\r\nimport UserStore from \"../../Appshell/stores/UserStore\";\r\n\r\n\r\nclass NewsList extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      news: [],\r\n      display: [],\r\n      count: 1,\r\n      following: false,\r\n      category: \"HEADLINE\",\r\n      loading: false,\r\n      hideFollow: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isFollow(this.props);\r\n    this.parseSearch(this.props);\r\n  }\r\n\r\n  parseSearch = (props) => {\r\n    this.setState({loading: true});\r\n    if (!props.location.search) {\r\n      axios.get(\"http://18.191.243.106:3000/api/offline/\").then(\r\n        res => {\r\n          this.setState({\r\n            news: res.data || [],\r\n            display: res.data.slice(0, 10),\r\n            loading: false\r\n          })\r\n        }\r\n      ).catch(err => {\r\n        message.error(\"Network error\");\r\n        this.setState({loading: false});\r\n      });\r\n    }\r\n    else {\r\n      const search = props.location.search;\r\n      const params = new URLSearchParams(search);\r\n      if (params.get('category')) {\r\n        axios.get(`http://18.191.243.106:3000/api/offline/category/${params.get('category')}`).then(\r\n          res => {\r\n            this.setState({\r\n              news: res.data || [],\r\n              display: res.data.slice(0, 10),\r\n              category: params.get('category'),\r\n              loading: false\r\n            })\r\n          }\r\n        ).catch(err => {\r\n          message.error(\"Network error\");\r\n          this.setState({loading: false});\r\n        });\r\n      }\r\n\r\n      else if (params.get('news')) {\r\n        axios.get(`http://18.191.243.106:3000/api/offline/search/${params.get('news')}`).then(\r\n            res => {\r\n              console.log(res.data);\r\n              this.setState({\r\n                news: res.data || [],\r\n                display: res.data || [],\r\n                category: \"SEARCH RESULT\",\r\n                loading: false,\r\n                hideFollow: true,\r\n              })\r\n            }\r\n        ).catch(err => {\r\n          message.error(\"Network error\");\r\n          this.setState({loading: false});\r\n        });\r\n      }\r\n\r\n      else if (params.get('source')) {\r\n        axios.get(`http://18.191.243.106:3000/api/offline/source/${params.get('source')}`).then(\r\n            res => {\r\n              this.setState({\r\n                news: res.data || [],\r\n                display: res.data || [],\r\n                category: params.get('source'),\r\n                loading: false\r\n              })\r\n            }\r\n        ).catch(err => {\r\n          message.error(\"Network error\");\r\n          this.setState({loading: false});\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  getType = (props) => {\r\n    if (!props.location) {\r\n      return \"other\";\r\n    }\r\n    const search = props.location.search;\r\n    const params = new URLSearchParams(search);\r\n    if (params.get('news')) return \"news\";\r\n    if (params.get('category')) return \"category\";\r\n    if (params.get('source')) return \"source\";\r\n    return \"other\";\r\n  };\r\n\r\n\r\n  handleFollow = () => {\r\n    axios.put(`http://18.191.243.106:3000/api/user/${UserStore.user.uid}`,\r\n        {name: this.state.category, type: this.getType(this.props)}).then(res => {\r\n      this.setState({following: !this.state.following});\r\n    }).catch(err =>\r\n        message.error(\"Network error\")\r\n    );\r\n  };\r\n\r\n  handleMore = () => {\r\n    const currCount = this.state.count + 1;\r\n    const currNews = this.state.news.slice(0, 10*currCount);\r\n    this.setState({\r\n      count: currCount,\r\n      display: currNews\r\n    })\r\n  };\r\n\r\n  isFollow = () => {\r\n    if (!UserStore.user.channels) return false;\r\n    let key = 'headline';\r\n    if (this.props.location) {\r\n      const search = this.props.location.search;\r\n      const params = new URLSearchParams(search);\r\n      key = params.get('news') || params.get('category') || params.get('source') || 'headline';\r\n    }\r\n\r\n    return (key in UserStore.user.channels) || this.state.following;\r\n  };\r\n\r\n  render() {\r\n\r\n    let displayNews = [];\r\n    if (this.state.display.length !== 0) {\r\n      // change key to item.id once added\r\n      displayNews = this.state.display.map((item, index) =>\r\n        <div key={index}>\r\n          <NewsItem item={item}/>\r\n          <br/>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <br/>\r\n        <div className=\"list-headline\">\r\n            <h1 className=\"list-title\">{this.state.category.toUpperCase()}</h1>\r\n            {this.state.hideFollow\r\n              ? <div></div>\r\n              : <Button shape=\"round\" onClick={this.handleFollow} disabled={UserStore.user.isAnonymous}>\r\n                <Icon type=\"star\" theme={this.isFollow() ? \"filled\" : \"\"}/>\r\n                {this.isFollow() ? \"Unfollow\" : \"Follow\"}\r\n                </Button>\r\n            }\r\n        </div>\r\n        <div className=\"list-container\">\r\n          {(this.state.loading || UserStore.state.loading) ?\r\n              <div>\r\n                <Skeleton/>\r\n                <Skeleton/>\r\n                <Skeleton/>\r\n              </div>\r\n              : (displayNews.length === 0 ? <Empty description=\" \"/> : displayNews)}\r\n        </div>\r\n        <Divider>\r\n          {this.state.news.length === this.state.display.length ?\r\n              \"No more content\" :\r\n            <div className=\"read-more\">\r\n              <Button onClick={this.handleMore} style={{border: \"none\"}}>\r\n                Read More\r\n                <Icon type=\"down\"/>\r\n              </Button>\r\n            </div>\r\n          }\r\n        </Divider>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\ndecorate(NewsList, {\r\n  NewsList: observer,\r\n});\r\n\r\nexport default NewsList","import React, { Component } from 'react';\r\nimport {Avatar, Card, Button, message} from \"antd\";\r\nimport \"../styles/FollowedItem.scss\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {decorate} from \"mobx\";\r\nimport {observer} from \"mobx-react\";\r\nimport UserStore from \"../../Appshell/stores/UserStore\";\r\n\r\nclass FollowedItem extends Component {\r\n\r\n  handleUnfollow = () => {\r\n    UserStore.state.loading = true;\r\n    axios.put(`http://18.191.243.106:3000/api/user/${UserStore.user.uid}`, {name:this.props.name, type: this.props.type}).then( res => {\r\n          message.success(`Delete ${this.props.name} successfully!`);\r\n          delete (UserStore.user.channels[this.props.name]);\r\n          UserStore.state.loading = false;\r\n        }\r\n    )\r\n  };\r\n\r\n  render() {\r\n      return (\r\n        <Card className=\"item-card\">\r\n          <div className=\"item-container\">\r\n            <Link to={this.props.type==='other'? \"/news/\" : `/news/?${this.props.type}=${this.props.name}`}>\r\n              <Avatar size={50} style={{ color: '#f56a00', backgroundColor: '#fde3cf' }}>\r\n                {this.props.name[0].toUpperCase()}\r\n              </Avatar>\r\n            </Link>\r\n            <div className=\"item-description\">\r\n              <Link to={this.props.type==='other'? \"/news/\" : `/news/?${this.props.type}=${this.props.name}`}>\r\n                {this.props.name.toUpperCase()}\r\n              </Link>\r\n            </div>\r\n            <div className=\"item-operation\">\r\n              <Button shape=\"circle\" icon=\"delete\" type=\"danger\" disabled={UserStore.user.loading} onClick={this.handleUnfollow}/>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      );\r\n    }\r\n}\r\n\r\ndecorate(FollowedItem, {\r\n  FollowedItem: observer,\r\n});\r\n\r\nexport default FollowedItem;","import React, { Component } from 'react';\r\nimport {Avatar, Card, Divider, Empty, Icon, Skeleton, Spin} from \"antd\";\r\nimport \"../styles/ProfileContainer.scss\";\r\nimport '../../Home/styles/NewsList.scss';\r\nimport {decorate} from \"mobx\";\r\nimport {observer} from \"mobx-react\";\r\nimport UserStore from \"../../Appshell/stores/UserStore\";\r\nimport FollowedItem from \"./FollowedItem.jsx\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\n\r\nconst { Meta } = Card;\r\n\r\nclass ProfileContainer extends Component {\r\n\r\n    //todo: replace them to the real news list\r\n  state = {\r\n    news: [],\r\n    channels: {},\r\n    loading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const that = this;\r\n    const request = window.indexedDB.open(\"news\", 1);\r\n    request.onupgradeneeded = function (event) {\r\n      const db = event.target.result;\r\n      if (!db.objectStoreNames.contains('recent')) {\r\n        db.createObjectStore('recent', { keyPath: 'id' });\r\n      }\r\n    };\r\n    request.onsuccess = function(event) {\r\n      const db = event.target.result;\r\n      db.transaction(['recent']).objectStore('recent').openCursor().onsuccess = function (event) {\r\n        const cursor = event.target.result;\r\n        const news = that.state.news;\r\n        if (cursor) {\r\n          news.push(cursor.value);\r\n          cursor.continue();\r\n        } else {\r\n          that.setState({news: news});\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  renderCard = () => {\r\n    if (UserStore.state.loading) {\r\n      return <Skeleton/>\r\n    }\r\n    if (this.state.news.length === 0) {\r\n      return <Empty/>\r\n    }\r\n    const readNews = this.state.news;\r\n    return <div className=\"news-card-list\">\r\n      {readNews.length > 0 ? readNews.map((news, index) =>\r\n          <Link key={index} to={{pathname: `/news/${news.id}`, state: {news: news.id}}}>\r\n            <Card\r\n                key={index}\r\n                hoverable\r\n                bordered={false}\r\n                style={{width: 290, margin: \"5px\"}}\r\n                cover={<img src={news.img} alt={\"N/A\"}/>}\r\n            >\r\n\r\n              <Meta\r\n                  title={news.title}\r\n              />\r\n              <div>\r\n                <Icon type=\"clock-circle\"/>{moment(news.time).fromNow()}\r\n              </div>\r\n            </Card>\r\n          </Link>)\r\n          : <div style={{margin: \"0 auto\"}}>\r\n            <Empty/>\r\n          </div>\r\n      }\r\n\r\n    </div>;\r\n  };\r\n\r\n  render() {\r\n      if (UserStore.state.loading) {\r\n          return (\r\n              <div className=\"profile-container\">\r\n                  <div className=\"profile-avatar\">\r\n                     <Spin/>\r\n                  </div>\r\n              </div>\r\n          );\r\n      }\r\n\r\n      if (!UserStore.user.email) {\r\n          return (\r\n              <div className=\"profile-container\">\r\n                  <div className=\"profile-avatar\">\r\n                      <h1>You have to Sign in</h1>\r\n                  </div>\r\n              </div>\r\n          );\r\n      }\r\n\r\n      return(\r\n          <div className=\"profile-container\">\r\n              <div className=\"profile-avatar\">\r\n                  <Avatar size={100} icon=\"user\" src={UserStore.user.photoURL ? UserStore.user.photoURL : \"\"}/>\r\n                  <h1>Welcome, {UserStore.user.displayName || UserStore.user.email}</h1>\r\n                  <br/>\r\n              </div>\r\n              <section className=\"profile-section\">\r\n                  <h1>My Subscription</h1>\r\n                <div className=\"subcriptions\">\r\n                  {UserStore.user.channels ? Object.keys(UserStore.user.channels).map((chan, index) =>\r\n                      <FollowedItem name={chan} type={UserStore.user.channels[chan].type} key={index}/>) :\r\n                      <div style={{margin: \"0 auto\"}}>\r\n                        <Empty/>\r\n                      </div>\r\n                  }\r\n                </div>\r\n              </section>\r\n              <Divider/>\r\n              <section className=\"profile-section\">\r\n                  <h1>Browsed News</h1>\r\n                  {this.renderCard()}\r\n              </section>\r\n              <Divider/>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n\r\ndecorate(ProfileContainer, {\r\n    ProfileContainer: observer,\r\n});\r\nexport default ProfileContainer;","import React, { Component } from 'react';\r\nimport {Tag, Icon, Button} from 'antd';\r\nimport Image from '../../News/components/Image';\r\nimport \"../../News/styles/NewsItem.scss\";\r\n\r\n\r\n\r\nclass MemberItem extends Component {\r\n  render() {\r\n    let tags;\r\n    if (this.props.item.hashtags) {\r\n      tags = this.props.item.hashtags.map(item =>\r\n          <Tag color=\"cyan\">{item}</Tag>\r\n      )\r\n    }\r\n    return (\r\n        <div className=\"round-container\">\r\n          <div className=\"content\" style={{display:\"flex\"}}>\r\n            <div className=\"image\" style={{marginRight: \"20px\"}}>\r\n              <a href={this.props.item.url}>\r\n                <Image address={this.props.item.img} source={this.props.item.source}/>\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <a href={this.props.item.url}>\r\n                <div className=\"title\">{this.props.item.name}</div>\r\n              </a>\r\n              <div className=\"post-time\">Position: {this.props.item.position}</div>\r\n              <div className=\"description\">{this.props.item.description}</div>\r\n              <div className=\"tags\" style={{fontSize: \"large\"}}>Contact me:\r\n                <Button style={{margin: \"0 10px\"}} icon=\"github\" href={this.props.item.github}>Github</Button>\r\n                <Button icon=\"linkedin\" href={this.props.item.linkedin}>Linkedin</Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\nexport default MemberItem;","import React, { Component } from 'react';\r\nimport '../../News/styles/NewsList.scss';\r\nimport MemberItem from \"./MemberItem\";\r\nimport team from \"../team.json\";\r\n\r\n\r\nclass AboutContainer extends Component {\r\n  render() {\r\n    return(\r\n        <div className=\"container\">\r\n          <br/>\r\n          <div className=\"list-headline\">\r\n            <h1 className=\"list-title\">ABOUT US</h1>\r\n          </div>\r\n          <div className=\"list-container\">\r\n            {team.map((member,index) =>\r\n              <div>\r\n                <MemberItem item={member} key={index}/>\r\n                <br/>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\nexport default AboutContainer;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport {BackTop} from 'antd';\r\nimport HomeContainer from \"./Appshell/components/HomeContainer\";\r\nimport Header from './Appshell/components/Header.jsx';\r\nimport NewsDetail from './News/components/NewsDetail';\r\nimport NewsList from './News/components/NewsList';\r\nimport ProfileContainer from './User/components/ProfileContainer';\r\nimport AboutContainer from './About/components/AboutContainer';\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header/>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={HomeContainer}/>\r\n            <Route exact path=\"/news/:id\" component={NewsDetail}/>\r\n            <Route exact path=\"/news/\" component={NewsList}/>\r\n            <Route path=\"/profile/\" component={ProfileContainer}/>\r\n            <Redirect from=\"/rss-pwa/\" to=\"/\"/>\r\n            <Route path=\"/about/\" component={AboutContainer}/>\r\n          </Switch>\r\n        </Router>\r\n        <BackTop />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' || 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n    // Rick: use Workbox to manage static files of Webpack\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        console.log(installingWorker);\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        console.log(installingWorker);\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport firebase from \"firebase\";\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDcPG3URrK1keiRvgvvKBCqQkBatgpCnes\",\r\n    authDomain: \"rss-pwa-ba0d0.firebaseapp.com\",\r\n    databaseURL: \"https://rss-pwa-ba0d0.firebaseio.com\",\r\n    projectId: \"rss-pwa-ba0d0\",\r\n    storageBucket: \"rss-pwa-ba0d0.appspot.com\",\r\n    messagingSenderId: \"764595055848\"\r\n};\r\nfirebase.initializeApp(config);\r\nfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).catch(err => console.log(err));\r\n\r\nconst link = document.createElement('link');\r\nlink.rel = \"manifest\";\r\nif (process.env.NODE_ENV === 'development') {\r\n    link.href = \"manifest-dev.json\";\r\n} else {\r\n    link.href = \"manifest.json\";\r\n}\r\ndocument.head.appendChild(link);\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}